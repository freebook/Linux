<?xml version="1.0" encoding="UTF-8"?>
<section id="docker.log-driver">
	<title>日志</title>
	<section>
		<title>Fluentd</title>
		<para>在 Docker 中安装 Fluentd</para>
		<para>准备 test.conf 文件</para>
		<screen>
		<![CDATA[
 <source>
   @type forward
 </source>

 <match *>
   @type stdout
 </match>		
		]]>
		</screen>
		<para>启动 fluentd 接收日志</para>
		<screen>
		<![CDATA[
 $ docker run -it -p 24224:24224 -v /path/to/conf/test.conf:/fluentd/etc/test.conf -e FLUENTD_CONF=test.conf fluent/fluentd:latest		
		]]>
		</screen>
		<para>运行你的程序</para>
		<screen>
		<![CDATA[
$ docker run --log-driver=fluentd your/application		
		]]>
		</screen>
		<para>如果是远程主机使用 fluentd-address 参数</para>
		<screen>
		<![CDATA[
docker run --log-driver=fluentd --log-opt fluentd-address=fluentdhost:24224
docker run --log-driver=fluentd --log-opt fluentd-address=tcp://fluentdhost:24224
docker run --log-driver=fluentd --log-opt fluentd-address=unix:///path/to/fluentd.sock		
		]]>
		</screen>
	</section>
</section>